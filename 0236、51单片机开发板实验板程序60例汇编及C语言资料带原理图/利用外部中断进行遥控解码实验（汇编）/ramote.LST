A51 MACRO ASSEMBLER  RAMOTE                                                               09/18/2007 17:27:21 PAGE     1


MACRO ASSEMBLER A51 V8.00
OBJECT MODULE PLACED IN ramote.OBJ
ASSEMBLER INVOKED BY: C:\Keil\C51\BIN\A51.EXE ramote.asm SET(SMALL) DEBUG EP

LOC  OBJ            LINE     SOURCE

                       1     ;**********************************************************************
                       2     ;****************************ºìÍâ½âÂëÊµÑé******************************
                       3     ;**********************************************************************
                       4     
                       5     
                       6     
                       7     
                       8     ;----------------------------¶ÔTC9012 (³¤ºç K8B )Ò£¿ØÆ÷µÄ½âÂë----------------------
                       9     ;----------------------------------------------------------------------
                      10     ; 2005.5.03  design by benladn911   µ÷ÊÔ³É¹¦!!!!!!
                      11     ; ²Î¿¼ÍøÕ¾£ºwww.xie-gang.com
                      12     ;----------------------------------------------------------------------
                      13     ;ÏµÍ³²ÉÓÃ AT89C51 ½øÐÐ½âÂëÊµÑé, fosc = 12 MHz
                      14     
                      15     
                      16     
                      17     
                      18     ;ÕâÖÖÒ£¿ØÂë¾ßÓÐÒÔÏÂÌØÕ÷,²ÉÓÃÂö¿íµ÷ÖÆµÄ´®ÐÐÂë
                      19     
                      20     
                      21     
                      22     
                      23     ;ÒÔÂö¿íÎª0.565msµÍµçÆ½¡¢0.56ms¸ßµçÆ½¡¢ÖÜÆÚÎª1.125msµÄ×éºÏ±íÊ¾¶þ½øÖÆµÄ¡°0¡±£»
                      24     
                      25     
                      26     
                      27     
                      28     ;ÒÔÂö¿íÎª0.565msµÍµçÆ½¡¢1.685ms¸ßµçÆ½¡¢ÖÜÆÚÎª2.25msµÄ×éºÏ±íÊ¾¶þ½øÖÆµÄ¡°1¡±
                      29     
                      30     
                      31     
                      32     
                      33     
                      34     ;½âÂëµÄ¹Ø¼üÊÇÈçºÎÊ¶±ð¡°0¡±ºÍ¡°1¡±£¬´ÓÎ»µÄ¶¨ÒåÎÒÃÇ¿ÉÒÔ·¢ÏÖ¡°0¡±¡¢¡°1¡±¾ùÒÔ0.56msµÄµÍµçÆ½¿ªÊ¼
                             £¬
                      35     ;²»Í¬µÄÊÇ¸ßµçÆ½µÄ¿í¶È²»Í¬£¬¡°0¡±Îª0.56ms,¡°1¡±Îª1.68ms, ËùÒÔ±ØÐë¸ù¾Ý¸ßµçÆ½µÄ¿í¶ÈÇø±ð¡°0¡±ºÍ
                             ¡°1¡±¡£
                      36     ;Èç¹û´Ó0.56msµÍµçÆ½¹ýºó£¬¿ªÊ¼ÑÓÊ±£¬0.56msÒÔºó£¬Èô¶Áµ½µÄµçÆ½ÎªµÍ£¬ËµÃ÷¸ÃÎ»Îª¡°0¡±£¬·´Ö®ÔòÎª¡
                             °1¡±£¬
                      37     
                      38     
                      39     
                      40     
                      41     ;ÎªÁË¿É*Æð¼û£¬ÑÓÊ±±ØÐë±È0.56ms³¤Ð©£¬µ«ÓÖ²»ÄÜ³¬¹ý1.12ms,·ñÔòÈç¹û¸ÃÎ»Îª¡°0¡±£¬¶Áµ½µÄÒÑÊÇÏÂÒ»Î
                             »µÄ¸ßµçÆ½£¬
                      42     ;Òò´ËÈ¡£¨1.12ms+0.56ms£©/2=0.84ms×îÎª¿É*£¬Ò»°ãÈ¡0.84ms×óÓÒ¼´¿É¡£
                      43     
                      44     
                      45     
                      46     
                      47     ;¸ù¾Ý TC9012 ºìÍâ±àÂëµÄ¸ñÊ½£¬³ÌÐòÓ¦¸ÃµÈ´ý 4.5ms µÄÆðÊ¼ÂëºÍ 4.5ms µÄ½á¹ûÂëÍê³Éºó²ÅÄÜ¶ÁÂë¡£
                      48     
                      49     
                      50     
                      51     
                      52     
                      53     
0000                  54     ORG 0000H
A51 MACRO ASSEMBLER  RAMOTE                                                               09/18/2007 17:27:21 PAGE     2

0000 2100             55     AJMP MAIN
                      56     
                      57     
                      58     
                      59     
0003                  60     ORG 0003H   ;Íâ²¿ÖÐ¶ÏP3.2½ÅINT0Èë¿ÚµØÖ·
0003 2108             61     AJMP INTT0  ;×ªÈëÍâ²¿ÖÐ¶Ï·þÎñ×Ó³ÌÐò£¨½âÂë³ÌÐò£©
                      62     
                      63     
                      64     
                      65     
0100                  66     ORG 0100H
0100 D2AF             67     MAIN: SETB EA
0102 D288             68           SETB IT0
0104 D2A8             69           SETB EX0
                      70     
                      71     
                      72     
                      73     
0106 2106             74           AJMP $
                      75     
                      76     
                      77     
                      78     
                      79     
                      80     ;******************ÒÔÏÂÎª½øÈëP3.2½ÅÍâ²¿ÖÐ¶Ï×Ó³ÌÐò£¬Ò²¾ÍÊÇ½âÂë³ÌÐò*******************
                      81     
                      82     
                      83     
                      84     
0108 C2AF             85     INTT0: CLR EA ;ÔÝÊ±¹Ø±ÕCPUµÄËùÓÐÖÐ¶ÏÇëÇó
                      86     
                      87     
                      88     
                      89     
010A 7E05             90     MOV R6,#5
010C 315D             91     SB: ACALL YS1      ;µ÷ÓÃ882Î¢ÃëÑÓÊ±×Ó³ÌÐò
010E 20B249           92         JB P3.2,EXIT   ;ÑÓÊ±882Î¢ÃëºóÅÐ¶ÏP3.2½ÅÊÇ·ñ³öÏÖ¸ßµçÆ½Èç¹ûÓÐ¾ÍÍË³ö½âÂë³ÌÐò
0111 DEF9             93         DJNZ R6, SB    ;ÖØ¸´ 5 ´Î£¬Ä¿µÄÊÇ¼ì²âÔÚ 4410 Î¢ÃëÄÚÈç¹û³öÏÖ¸ßµçÆ½¾ÍÍË³ö½âÂë³ÌÐò
                      94     
                      95     
                      96     
                      97     
                      98     ;---------------ÒÔÉÏÍê³É¶ÔÒ£¿ØÐÅºÅÒýµ¼ÂëµÄ 4500 Î¢ÃëµÄ³õÊ¼µÍµçÆ½ÐÅºÅµÄÊ¶±ð!!!!!
                      99     
                     100     
                     101     
                     102     
0113 30B2FD          103     JNB P3.2, $    ;µÈ´ý¸ßµçÆ½±Ü¿ª 4.5 ºÁÃëµÍµçÆ½Òýµ¼Âö³å
0116 3166            104     ACALL YS2      ;ÑÓÊ±4.74ºÁÃë±Ü¿ª 4.5 ºÁÃëµÄ½á¹ûÂë
                     105     ;---------------ÒÔÉÏÊÇ¶ÔÒýµ¼ÂëµÄ 4500 Î¢Ãë¸ßµçÆ½µÄ³õÊ¼Ê¶±ð!!!!!
                     106     
                     107     
                     108     
                     109     
                     110     ;-------------------------------------------------------------------------
                     111     
                     112     
                     113     
                     114     
0118 7F10            115     MOV R7,#16    ;ºöÂÔÇ°16Î»ÏµÍ³Ê¶±ðÂë (¼´µØÖ·Âë)
                     116     
                     117     
                     118     
                     119     
011A 30B2FD          120     JJJJA:JNB P3.2,$   ;µÈ´ýµØÖ·ÂëµÚÒ»Î»µÄ¸ßµçÆ½ÐÅºÅ
A51 MACRO ASSEMBLER  RAMOTE                                                               09/18/2007 17:27:21 PAGE     3

011D 12015D          121           LCALL YS1    ;¸ßµçÆ½¿ªÊ¼ºóÓÃ882Î¢ÃëµÄÊ±¼äÑÓÊ±È¥ÅÐ¶ÏÐÅºÅ´ËÊ±µÄ¸ßµÍµçÆ½×´Ì¬
0120 A2B2            122           MOV C,P3.2   ;½«P3.2Òý½Å´ËÊ±µÄµçÆ½×´Ì¬ 0»ò1 ´æÈëCÖÐ
0122 5003            123           JNC UUUA     ;Èç¹ûÎª0¾ÍÌø×ªµ½UUUA
0124 12016F          124           LCALL YS3    ;¼ì²âµ½¸ßµçÆ½1µÄ»°ÑÓÊ±1ºÁÃëµÈ´ýÂö³å¸ßµçÆ½½áÊø
0127 DFF1            125     UUUA: DJNZ R7,JJJJA
                     126     
                     127     
                     128     
                     129     
                     130     ;--------------------------------------------------------------------------
                     131     
                     132     
                     133     
                     134     
0129 791A            135     MOV R1,#1AH   ;Éè¶¨1AHÎªÆðÊ¼RAMÇø
012B 7A02            136     MOV R2,#2     ;½ÓÊÕ´Ó1AHµ½1BHµÄ2¸öÄÚ´æ,ÓÃÓÚ´æ·Å²Ù×÷Âë (¼´Êý¾ÝÂë) ºÍ²Ù×÷·´Âë
012D 7B08            137     PP: MOV R3,#8 ;Ã¿×éÊý¾ÝÎª8Î»
                     138     
                     139     
                     140     
                     141     
012F 30B2FD          142     JJJJ: JNB P3.2,$   ;µÈ´ý Êý¾ÝÂë µÚÒ»Î»µÄ¸ßµçÆ½ÐÅºÅ
0132 12015D          143           LCALL YS1    ;¸ßµçÆ½¿ªÊ¼ºóÓÃ882Î¢ÃëµÄÊ±¼ä³ßÈ¥ÅÐ¶ÏÐÅºÅ´ËÊ±µÄ¸ßµÍµçÆ½×´Ì¬
0135 A2B2            144           MOV C,P3.2   ;½«P3.2Òý½Å´ËÊ±µÄµçÆ½×´Ì¬0»ò1´æÈëCÖÐ
0137 5003            145           JNC UUU      ;Èç¹ûÎª0¾ÍÌø×ªµ½UUU
0139 12016F          146           LCALL YS3    ;¼ì²âµ½¸ßµçÆ½1µÄ»°ÑÓÊ±1ºÁÃëµÈ´ýÂö³å¸ßµçÆ½½áÊø
                     147     
                     148     
                     149     
                     150     
013C E7              151     UUU: MOV A,@R1   ;½«R1ÖÐµØÖ·µÄ¸øA
013D 13              152          RRC A       ;½«CÖÐµÄÖµ0»ò1ÒÆÈëAÖÐµÄ×îµÍÎ»
013E F7              153          MOV @R1,A   ;½«AÖÐµÄÊýÔÝÊ±´æ·ÅÔÚR1ÊýÖµµÄÄÚ´æÖÐ
013F DBEE            154          DJNZ R3,JJJJ   ;½ÓÊÕÂú8Î»»»Ò»¸öÄÚ´æ
0141 09              155          INC R1    ;¶ÔR1ÖÐµÄÖµ¼Ó1£¬»»ÏÂÒ»¸öRAM
0142 DAE9            156          DJNZ R2,PP   ;½ÓÊÕÍê8Î»Êý¾ÝÂëºÍ8Î»Êý¾Ý·´Âë£¬´æ·ÅÔÚ1AH/1BHÖÐ
                     157     
                     158     
                     159     
                     160     
0144 E51A            161     MOV A,1AH
0146 F4              162     CPL A   ;¶Ô1AHÈ¡·´ºóºÍ1BH±È½Ï
0147 B51B10          163     CJNE A,1BH,EXIT   ;Èç¹û²»µÈ±íÊ¾½ÓÊÕÊý¾Ý·¢Éú´íÎó,·ÅÆú
                     164     
                     165     
                     166     
                     167     
                     168     ;---------------------------------------------------------------------
                     169     
                     170     
                     171     
                     172     
014A 851A80          173     MOV P0,1AH  ;½«°´¼üµÄ¼üÖµÍ¨¹ýP1¿ÚµÄ8¸öLEDÏÔÊ¾³öÀ´!
014D C2A1            174     CLR P2.1    ;·äÃùÆ÷ÃùÏì£­àÖàÖàÖ£­µÄÉùÒô£¬±íÊ¾½âÂë³É¹¦
014F 120166          175     LCALL YS2
0152 120166          176     LCALL YS2
0155 120166          177     LCALL YS2
0158 D2A1            178     SETB P2.1   ;·äÃùÆ÷Í£Ö¹
                     179     
                     180     
                     181     
                     182     
015A D2AF            183     EXIT: SETB EA ;ÔÊÐíÖÐ¶Ï
015C 32              184           RETI ;ÍË³ö½âÂë×Ó³ÌÐò
                     185     
                     186     
A51 MACRO ASSEMBLER  RAMOTE                                                               09/18/2007 17:27:21 PAGE     4

                     187     
                     188     
                     189     ;-------------------------ÑÓÊ±×Ó³ÌÐò---------------------------------
                     190     
                     191     
                     192     
                     193     
015D 7C14            194     YS1: MOV R4,#20 ;ÑÓÊ±×Ó³ÌÐò1£¬¾«È·ÑÓÊ±882Î¢Ãë
015F 7D14            195     D1: MOV R5,#20
0161 DDFE            196         DJNZ R5,$
0163 DCFA            197         DJNZ R4,D1
0165 22              198         RET
                     199     
                     200     
                     201     
                     202     
0166 7C0A            203     YS2: MOV R4,#10 ;ÑÓÊ±×Ó³ÌÐò2£¬¾«È·ÑÓÊ±4740Î¢Ãë
0168 7DEB            204     D2: MOV R5,#235
016A DDFE            205         DJNZ R5,$
016C DCFA            206         DJNZ R4,D2
016E 22              207         RET
                     208     
                     209     
016F 7C02            210     YS3: MOV R4,#2;ÑÓÊ±³ÌÐò3£¬¾«È·ÑÓÊ±1000Î¢Ãë
0171 7DF8            211     D3:MOV R5,#248
0173 DDFE            212        DJNZ R5,$
0175 DCFA            213        DJNZ R4,D3
0177 22              214        RET
                     215     
                     216     
                     217     
                     218     
                     219     END
A51 MACRO ASSEMBLER  RAMOTE                                                               09/18/2007 17:27:21 PAGE     5

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

D1 . . . . . . . .  C ADDR   015FH   A   
D2 . . . . . . . .  C ADDR   0168H   A   
D3 . . . . . . . .  C ADDR   0171H   A   
EA . . . . . . . .  B ADDR   00A8H.7 A   
EX0. . . . . . . .  B ADDR   00A8H.0 A   
EXIT . . . . . . .  C ADDR   015AH   A   
INTT0. . . . . . .  C ADDR   0108H   A   
IT0. . . . . . . .  B ADDR   0088H.0 A   
JJJJ . . . . . . .  C ADDR   012FH   A   
JJJJA. . . . . . .  C ADDR   011AH   A   
MAIN . . . . . . .  C ADDR   0100H   A   
P0 . . . . . . . .  D ADDR   0080H   A   
P2 . . . . . . . .  D ADDR   00A0H   A   
P3 . . . . . . . .  D ADDR   00B0H   A   
PP . . . . . . . .  C ADDR   012DH   A   
SB . . . . . . . .  C ADDR   010CH   A   
UUU. . . . . . . .  C ADDR   013CH   A   
UUUA . . . . . . .  C ADDR   0127H   A   
YS1. . . . . . . .  C ADDR   015DH   A   
YS2. . . . . . . .  C ADDR   0166H   A   
YS3. . . . . . . .  C ADDR   016FH   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
