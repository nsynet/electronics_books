C51 COMPILER V7.06   GLOBAL                                                                03/21/2011 11:03:30 PAGE 1   


C51 COMPILER V7.06, COMPILATION OF MODULE GLOBAL
OBJECT MODULE PLACED IN global.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE global.c ROM(COMPACT) BROWSE DEBUG OBJECTEXTEND

stmt level    source

   1          /*
   2           ----------------------------------------------------
   3           *作    者：温子祺
   4           ----------------------------------------------------
   5           */
   6          #include "stc.h"
   7          #include "Global.h"
   8          /****************************************************************************************************
   9          *
  10          *                                      变量区
  11          * 
  12          *****************************************************************************************************/
  13          //系统消息变量
  14          static
  15          volatile UINT8 __ucSysMsg=SYS_IDLE;
  16          
  17          /******************************************************************
  18          *函数名称:DelayNus
  19          *输    入:t 延时时间
  20          *输    出:无
  21          *说    明:微秒级延时
  22          *******************************************************************/
  23          void DelayNus(UINT16 t)
  24          {
  25   1              do
  26   1              {
  27   2                      NOP();
  28   2              }while(--t >0); 
  29   1      }
  30          /******************************************************************
  31          *函数名称:DelayNms
  32          *输    入:t 延时时间
  33          *输    出:无
  34          *说    明:毫秒级延时
  35          *******************************************************************/
  36          void DelayNms(UINT16 t)
  37          {
  38   1               do
  39   1               {
  40   2                      DelayNus(1000);
  41   2      
  42   2               }while(--t >0);
  43   1      }
  44          
  45          /*************************************************************
  46          * 函数名称:BufClr
  47          * 输    入:dest 缓冲区; size 缓冲区大小
  48          * 输    出:无
  49          * 说    明:清空缓冲区
  50          **************************************************************/
  51          BOOL BufClr(UINT8 * dest,UINT32 size)
  52          {
  53   1          if(NULL ==dest || 0==size)
  54   1          {
  55   2              return FALSE;
C51 COMPILER V7.06   GLOBAL                                                                03/21/2011 11:03:30 PAGE 2   

  56   2          }
  57   1          
  58   1              do
  59   1              {
  60   2                      *dest++ = 0;             
  61   2                      
  62   2              }while(--size!=0);
  63   1              
  64   1              return TRUE;
  65   1      }
  66          /*************************************************************
  67          * 函数名称:BufCpy
  68          * 输    入:dest 缓冲区; size 缓冲区大小
  69          * 输    出:无
  70          * 说    明:清空缓冲区
  71          **************************************************************/
  72          BOOL BufCpy(UINT8 * dest,UINT8 * src,UINT32 size)
  73          {
  74   1          if(NULL ==dest || NULL==src ||0==size)
  75   1          {
  76   2              return FALSE;
  77   2          }
  78   1          
  79   1              do
  80   1              {
  81   2                      *dest++ = *src++;
  82   2                      
  83   2              }while(--size!=0);
  84   1              
  85   1              return TRUE;
  86   1      } 
  87          /*************************************************************
  88          * 函数名称:SYSIdle
  89          * 输    入:无
  90          * 输    出:无
  91          * 说    明:空闲任务
  92          **************************************************************/
  93          void SYSIdle(void)
  94          {
  95   1               MCU_IDLE();
  96   1      }
  97          /*************************************************************
  98          * 函数名称:SYSPostCurMsg
  99          * 输    入:无
 100          * 输    出:无
 101          * 说    明:发送当前任务
 102          **************************************************************/
 103          void  SYSPostCurMsg(UINT8 msg)
 104          {
 105   1              __ucSysMsg=msg;
 106   1      }
 107          /*************************************************************
 108          * 函数名称:SYSIdle
 109          * 输    入:无
 110          * 输    出:无
 111          * 说    明:获取当前任务
 112          **************************************************************/
 113          UINT8 SYSRecvCurMsg(void)
 114          {
 115   1              return __ucSysMsg;
 116   1      }

C51 COMPILER V7.06   GLOBAL                                                                03/21/2011 11:03:30 PAGE 3   


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    226    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      1      17
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
